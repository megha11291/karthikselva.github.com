
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Running SMS Dictionary server  in your  Home  - Hacker's Diary</title>
    <meta name="author" content="karthikselva's log">
    
	<meta name="description" content="Do you want to run a dictionary server that messages you the actual meaning Requirments : i)  A GSM mobile phone ii)  Linux  with python iii) Mysql &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Hacker's Diary" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='http://fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

    <script type="text/javascript" src="/javascripts/jquery-tapir.js"></script>

    <!-- remove or comment it to disable ajaxification -->   
    <script src="/javascripts/ajaxify.js"></script>
   
    
</head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        karthikselva's log
    </div>
</h1>
<br>

<ul id="social-links" style="text-align:center">
  
  <!-- GitHub -->
  <li>
  <a href="https://github.com/karthikselva" class="github" title="Github"></a>
  </li>
  
  
  <!-- Google Plus -->
  <li>
  <a href="http://plus.google.com/115315132809115213147?rel=author" class="google" title="Google+"></a>
  </li>
  
  
  <!-- Facebook -->
  <li>
  <a href="http://www.facebook.com/karthikselvakumar47" class="facebook" title="Facebook"></a>
  </li>
  
  
  <!-- Twitter -->
  <li>
  <a href="http://www.twitter.com/karthikselva" class="twitter" title="Twitter"></a>
  </li>
  
  
  
  <!-- Skype -->
  <li>
  <a href="http://myskype.info/karthikselvakumar" class="skype" title="Skype"></a>
  </li>
  
  
  
</ul>


<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/blog/archives/index.html">Archives</a></li>
	<li ><a href="http://careers.stackoverflow.com/karthikselva">About</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form method="get" action="/search.html" id="search">
            <input name="query" type="text" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>

<div id="toload">
<!-- begin toload --> 
    <div id="content" class="inner">
        <article class="post">
	<h2 class="title">Running SMS Dictionary Server in Your Home</h2>
	<div class="entry-content"><p><em>Do you want to run a dictionary server that messages you the actual meaning</em></p>

<p><em><strong>Requirments :</strong></em></p>

<p>i)  A GSM mobile phone</p>

<p>ii)  Linux  with python</p>

<p>iii) Mysql Database</p>

<p>iv)  Gnokii-SMSD</p>

<p>You must be sure that<strong> gnokii-smsd</strong> is up and running and database is available</p>

<p><a href="http://karthikselvakumar.wordpress.com/2009/10/30/abc-to-qwerty-messaging/">if not refer to my previous post here</a></p>

<p><em><strong>Code :</strong></em></p>

<p>This code simply connects to dictionary.org and gets the meaning for the word that is latest in INBOX table and writes the meaning to OUTBOX table which will be sent to user later .May have bugs in it please report me at earliest :)</p>

<p>copy and paste the code to a file . let it be <strong>dict_server.py</strong> . code is below :</p>

<p><em>#!/usr/bin/python</em></p>

<p>_#    before running this program you must configured gnokii-smsd and it must be up and running</p>

<h1>    @Author:    Karthik selvakumar</h1>

<h1>    Name :     Dictionary Server_</h1>

<p><em># install python-MySQLdb  before importing this module</em></p>

<p><em>import MySQLdb</em></p>

<p><em># imported inorder to perform shell operations</em></p>

<p><em>import os</em></p>

<p><em># run as a daemon and never exit this thread</em></p>

<p><em>while(True):</em></p>

<p><em>#defines the database parameter change according to your configuration</em></p>

<p><em>host=&#8221;localhost&#8221;</em></p>

<p><em>user=&#8221;root&#8221;</em></p>

<p><em>passwd=&#8221;password&#8221;</em></p>

<p><em>db=&#8221;smsgw&#8221;</em></p>

<p><em>#creates a database object for corresponding config</em></p>

<p><em>db=MySQLdb.connect(host,user,passwd,db)</em></p>

<p><em>cursor=db.cursor()</em></p>

<p><em>#performs pruning of inbox table which may contain null entities</em></p>

<p><em>cursor.execute(&#8220;delete from inbox where text=&#34;&#34;&#8221;)</em></p>

<p><em>#gets the latest entered SMS from Mysql server</em></p>

<p><em>cursor.execute(&#8221; select number,text,id from inbox where id=(select max(id) from inbox)&#8221;);</em></p>

<p><em>record=cursor.fetchall()</em></p>

<p><em>for result in record:</em></p>

<p><em># gets the word to find meaning</em></p>

<p><em>word=result[1]</em></p>

<p><em># get the number bcoz u have to reply the meaning to this number later ;)</em></p>

<p><em>number=result[0]</em></p>

<p><em>row=result[2]</em></p>

<p><em># script to get meaning of a word from google server</em></p>

<p><em>up=&#8217;/usr/bin/curl -s -A &#39;Mozilla/4.0&#39; &#39;http://www.google.com/search?q=define%3A&#39;&#8217;</em></p>

<p><em>low=&#8217;| html2text -ascii -nobs -style compact -width 500 | grep &#8220;*&#8221; | head -n 1 -q | tail -n 1 > meaning.txt&#8217;</em></p>

<p><em># run the command in shell and write it to file named meaning.txt</em></p>

<p><em>os.system(up+word+low)</em></p>

<p><em># open the file in read only mode</em></p>

<p><em>filehandle=open(&#8216;meaning.txt&#8217;,&#8217;r&#8217;)</em></p>

<p><em># load the meaning in the string text</em></p>

<p><em>text=filehandle.read()</em></p>

<p><em># we no more need this</em></p>

<p><em>filehandle.close()</em></p>

<p><em># insert into outbox table which will send the meaning of the word to the phone number later</em></p>

<p><em>cursor.execute(&#8220;insert into outbox(number,text) values(%s,%s)&#8221;,(number,text))</em></p>

<p><em># close all active connections :)</em></p>

<p><em>cursor.close()</em></p>

<p><em>db.close()</em></p>

<p><em>#thank you !</em></p>

<p>now run the dictionary daemon by running <strong>python dict_server.py</strong> in terminal</p>

<p>whenever a message is received to your mobile it will be read by dict_server.py and meaning of that word will be in outbox table</p>

<p>to see run <strong>select * from outbox ;</strong> in mysql console</p>

<p>Enjoy :)</p>
</div>

<div class="meta">
	
</div>
</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>



<section id="comment">
    <h2 class="title">Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>

    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2013

    karthikselva's log
. Powered by <a href="http://octopress.org">Octopress</a> | 
    Theme <a href="http://github.com/panks/fabric">fabric</a> by <a href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/javascripts/fabric.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'karthikselva';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://karthikselva.github.com/blog/2010/02/14/running-sms-dictionary-server-in-your-home/';
        var disqus_url = 'http://karthikselva.github.com/blog/2010/02/14/running-sms-dictionary-server-in-your-home/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
